import queue;

def sender(q, v):
    queue.enqueue(q, v);
;
def receiver(q):
    let done = False:
        while not done:
            let v = queue.dequeue(q):
                done = v == ();
                assert done or (v[0] in { 1, 2 });
            ;
        ;
    ;
;

testq = queue.Queue();
spawn sender(?testq, 1);
spawn sender(?testq, 2);
spawn receiver(?testq);
spawn receiver(?testq);
