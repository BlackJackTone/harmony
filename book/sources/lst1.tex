\>{\tiny 1}\'\>\texttt{\textbf{from}}~synch~\texttt{\textbf{import}}~Lock,~acquire,~release\\

\>{\tiny 2}\'\>\texttt{\textbf{from}}~alloc~\texttt{\textbf{import}}~malloc,~free\\

\>{\tiny 3}\'\>\\

\>{\tiny 4}\'\>\texttt{\textbf{def}}~lst\_node(\textit{v},~\textit{n}):~~~~~\emph{\# allocate and initialize a new list node}\\

\>{\tiny 5}\'\>~~~~\textit{result}~=~malloc(\{~.lock:~Lock(),~.value:~\textit{v},~.next:~\textit{n}~\})\\

\>{\tiny 6}\'\>\\

\>{\tiny 7}\'\>\texttt{\textbf{def}}~lst\_contains(\textit{lst},~\textit{v}):~~~\emph{\# check if v is in the list}\\

\>{\tiny 8}\'\>~~~~\texttt{\textbf{let}}~\textit{n}~=~\textit{lst}:\\

\>{\tiny 9}\'\>~~~~~~~~\texttt{\textbf{while}}~\textit{n}$\rightarrow$value~$<$~\textit{v}:\\

\>{\tiny 10}\'\>~~~~~~~~~~~~\textit{n}~=~\textit{n}$\rightarrow$next\\

\>{\tiny 11}\'\>~~~~~~~~\textit{result}~=~\textit{n}$\rightarrow$value~==~\textit{v}