\>{\tiny 1}\'\>\textit{count}~=~0\\

\>{\tiny 2}\'\>\textit{entered}~=~\textit{done}~=~[~\texttt{\textbf{False}},~\texttt{\textbf{False}}~]\\

\>{\tiny 3}\'\>\\

\>{\tiny 4}\'\>\texttt{\textbf{def}}~incrementer(\textit{self}):\\

\>{\tiny 5}\'\>~~~~\textit{entered}[\textit{self}]~=~\texttt{\textbf{True}}\\

\>{\tiny 6}\'\>~~~~\texttt{\textbf{if}}~\textit{entered}[1~--~\textit{self}]:~~~~~~~~~\emph{\# if the other thread has already started}\\

\>{\tiny 7}\'\>~~~~~~~~\texttt{\textbf{await}}~\textit{done}[1~--~\textit{self}]~~~~~\emph{\# wait until it is done}\\

\>{\tiny 8}\'\>~~~~\textit{count}~=~\textit{count}~+~1\\

\>{\tiny 9}\'\>~~~~\textit{done}[\textit{self}]~=~\texttt{\textbf{True}}\\

\>{\tiny 10}\'\>~~~~\texttt{\textbf{await}}~\textit{done}[1~--~\textit{self}]\\

\>{\tiny 11}\'\>~~~~\texttt{\textbf{assert}}~\textit{count}~==~2\\

\>{\tiny 12}\'\>\\

\>{\tiny 13}\'\>\texttt{\textbf{spawn}}~incrementer(0)\\

\>{\tiny 14}\'\>\texttt{\textbf{spawn}}~incrementer(1)