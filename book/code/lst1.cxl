import synch;
import alloc;

def lst_node(v, n):
    result = rec_alloc();
    (^result).data = dict{ .lock: Lock(), .value: v };
    (^result).next = n;
;
def lst_new():
    result = lst_node(-inf, lst_node(inf, NULL));
;

def lst_contains(lst, v):
    let n = lst:
        while (^n).data.value < v:
            n = (^n).next;
        ;
        result = (^n).data.value == v;
    ;
;
