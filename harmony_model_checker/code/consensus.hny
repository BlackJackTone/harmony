const N = 4

let n_zeroes = choose({ 0 .. N / 2 }):
    proposals = [ 0 if i <= n_zeroes else 1 for i in { 1 .. N } ]

decision = choose { x for x in proposals }

def processor(proposal):
    if choose { False, True }:
        print decision

print proposals
for i in {0..N-1}:
    spawn processor(proposals[i])
