# mutual exclusion by infinite loop: safe but not live

def process():
    while True:
        pass;
    ;
    @cs: pass;    # critical section
;
flags = dict{ 0: False, 1: False };
spawn process(), 0;
spawn process(), 1;
