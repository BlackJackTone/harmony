import synch;

def p():
    while True:
        call P&(mysema);
        @cs:    # critical section
        call V&(mysema);
    ;
;
mysema := Semaphore(1);
spawn p(), 0;
spawn p(), 1;
spawn p(), 2;
spawn p(), 3;
